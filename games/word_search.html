<!DOCTYPE html>
<html lang="en">
<head>
  <title>Word Search Game</title>
  <style>
      .game-container {
          max-width: 630px;
          margin: auto;
          text-align: center;
          padding: 20px;
      }

      .game-board {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          margin-top: 20px;
      }

      .game-board .cell {
          width: 40px;
          height: 40px;
          border: 1px solid black;
          text-align: center;
          font-size: 25px;
          cursor: pointer;
      }

      .game-board .cell.found {
          background-color: green;
      }

      .game-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
      }

      .word-list {
          margin-top: 20px;
          text-align: left;
      }

      .restart-button {
          font-size: 18px;
          padding: 5px 10px;
          background-color: #007bff;
          color: white;
          border-radius: 5px;
          cursor: pointer;
      }

      .restart-button:hover {
          background-color: #0062cc;
      }
  </style>
</head>
<body>
<div class="game-container">
  <div class="game-header">
    <h1>Word Search Game</h1>
    <button class="restart-button" onclick="restartGame()">Restart</button>
  </div>
  <div class="game-board"></div>
  <div class="word-list"></div>
</div>
<script type="text/javascript">
  const words = ['javascript', 'html', 'css', 'web', 'design', 'coding', 'computer', 'programming'];
  const wordSearchSize = 15;

  let selectedWord = '';
  let gameBoard = [];
  let foundWords = [];

  function createGameBoard() {
    for (let i = 0; i < wordSearchSize; i++) {
      gameBoard[i] = [];
      for (let j = 0; j < wordSearchSize; j++) {
        gameBoard[i][j] = '';
      }
    }
  }

  function placeWordsOnGameBoard() {
    for (let i = 0; i < words.length; i++) {
      let wordPlaced = false;
      while (!wordPlaced) {
        let direction = Math.floor(Math.random() * 8);
        let row = Math.floor(Math.random() * wordSearchSize);
        let col = Math.floor(Math.random() * wordSearchSize);
        if (canPlaceWord(words[i], row, col, direction)) {
          placeWord(words[i], row, col, direction);
          wordPlaced = true;
        }
      }
    }
    for (let i = 0; i < wordSearchSize; i++) {
      for (let j = 0; j < wordSearchSize; j++) {
        if (gameBoard[i][j] === '') {
          let randomLetter = String.fromCharCode(Math.floor(Math.random() * 26) + 97);
          gameBoard[i][j] = randomLetter;
        }
      }
    }
  }

  function canPlaceWord(word, row, col, direction) {
    let wordLength = word.length;
    let numRows = gameBoard.length;
    let numCols = gameBoard[0].length;

    if (direction === 0) {
      if (col + wordLength > numCols) {
        return false;
      }
      for (let i = 0; i < wordLength; i++) {
        if (gameBoard[row][col + i] !== '' && gameBoard[row][col + i] !== word.charAt(i)) {
          return false;
        }
      }
      return true;
    } else if (direction === 1) {
      if (row + wordLength > numRows) {
        return false;
      }
      for (let i = 0; i < wordLength; i++) {
        if (gameBoard[row + i][col] !== '' && gameBoard[row + i][col] !== word.charAt(i)) {
          return false;
        }
      }
      return true;
    } else if (direction === 2) {
      if (row + wordLength > numRows || col + wordLength > numCols) {
        return false;
      }
      for (let i = 0; i < wordLength; i++) {
        if (gameBoard[row + i][col + i] !== '' && gameBoard[row + i][col + i] !== word.charAt(i)) {
          return false;
        }
      }
      return true;
    } else if (direction === 3) {
      if (row + wordLength > numRows || col - wordLength < -1) {
        return false;
      }
      for (let i = 0; i < wordLength; i++) {
        if (gameBoard[row + i][col - i] !== '' && gameBoard[row + i][col - i] !== word.charAt(i)) {
          return false;
        }
      }
      return true;
    } else if (direction === 4) {
      if (col - wordLength < -1) {
        return false;
      }
      for (let i = 0; i < wordLength; i++) {
        if (gameBoard[row][col - i] !== '' && gameBoard[row][col - i] !== word.charAt(i)) {
          return false;
        }
      }
      return true;
    } else if (direction === 5) {
      if (row - wordLength < -1 || col - wordLength < -1) {
        return false;
      }
      for (let i = 0; i < wordLength; i++) {
        if (gameBoard[row - i][col - i] !== '' && gameBoard[row - i][col - i] !== word.charAt(i)) {
          return false;
        }
      }
      return true;
    } else if (direction === 6) {
      if (row - wordLength < -1) {
        return false;
      }
      for (let i = 0; i < wordLength; i++) {
        if (gameBoard[row - i][col] !== '' && gameBoard[row - i][col] !== word.charAt(i)) {
          return false;
        }
      }
      return true;
    } else if (direction === 7) {
      if (row - wordLength < -1 || col + wordLength > numCols) {
        return false;
      }
      for (let i = 0; i < wordLength; i++) {
        if (gameBoard[row - i][col + i] !== '' && gameBoard[row - i][col + i] !== word.charAt(i)) {
          return false;
        }
      }
      return true;
    }
  }

  function placeWord(word, row, col, direction) {
    let wordLength = word.length;
    if (direction === 0) {
      for (let i = 0; i < wordLength; i++) {
        gameBoard[row][col + i] = word.charAt(i);
      }
    } else if (direction === 1) {
      for (let i = 0; i < wordLength; i++) {
        gameBoard[row + i][col] = word.charAt(i);
      }
    } else if (direction === 2) {
      for (let i = 0; i < wordLength; i++) {
        gameBoard[row + i][col + i] = word.charAt(i);
      }
    } else if (direction === 3) {
      for (let i = 0; i < wordLength; i++) {
        gameBoard[row + i][col - i] = word.charAt(i);
      }
    } else if (direction === 4) {
      for (let i = 0; i < wordLength; i++) {
        gameBoard[row][col - i] = word.charAt(i);
      }
    } else if (direction === 5) {
      for (let i = 0; i < wordLength; i++) {
        gameBoard[row - i][col - i] = word.charAt(i);
      }
    } else if (direction === 6) {
      for (let i = 0; i < wordLength; i++) {
        gameBoard[row - i][col] = word.charAt(i);
      }
    } else if (direction === 7) {
      for (let i = 0; i < wordLength; i++) {
        gameBoard[row - i][col + i] = word.charAt(i);
      }
    }
  }

  function displayGameBoard() {
    let gameBoardContainer = document.querySelector('.game-board');
    let tableHTML = '';
    for (let i = 0; i < gameBoard.length; i++) {
      tableHTML += '<div class="row">';
      for (let j = 0; j < gameBoard[i].length; j++) {
        tableHTML += '<div class="cell" id="' + i + '-' + j + '" onclick="selectCell(' + i + ',' + j + ')" onmousedown="startSelecting(' + i + ',' + j + ')" onmousemove="continueSelecting(' + i + ',' + j + ')" onmouseup="endSelecting()">' + gameBoard[i][j] + '</div>';
      }
      tableHTML += '</div>';
    }
    gameBoardContainer.innerHTML = tableHTML;
  }

  function displayWordList() {
    let wordListContainer = document.querySelector('.word-list');
    let wordListHTML = '<h3>Words to Find:</h3><ul>';
    for (let i = 0; i < words.length; i++) {
      wordListHTML += '<li id="' + words[i] + '">' + words[i] + '</li>';
    }
    wordListHTML += '</ul>';
    wordListContainer.innerHTML = wordListHTML;
  }

  function selectCell(row, col) {
    let cell = document.getElementById(row + '-' + col);
    if (cell.classList.contains('found') || cell.classList.contains('selected')) {
      return;
    }
    let letter = cell.innerHTML;
    selectedWord += letter;
    cell.style.backgroundColor = 'yellow';
    cell.classList.add('selected');
    checkSelectedWord();

    // Allow user to unselect cells with right-click
    cell.addEventListener('contextmenu', function (event) {
      event.preventDefault();
      if (selectedWord.length > 0) {
        const index = selectedWord.indexOf(event.target.innerHTML);
        selectedWord = selectedWord.slice(0, index-1) + selectedWord.slice(index)
        cell.style.backgroundColor = '';
        cell.classList.remove('selected');
        console.log(selectedWord);
      }
    });
  }


  function checkSelectedWord() {
    if (selectedWord.length === 0) {
      return;
    }
    if (words.indexOf(selectedWord) !== -1) {
      foundWords.push(selectedWord);
      document.getElementById(selectedWord).style.textDecoration = 'line-through';
      document.getElementById(selectedWord).style.color = 'gray';
      let selectedCells = document.querySelectorAll('.cell[style="background-color: yellow;"]');
      for (let i = 0; i < selectedCells.length; i++) {
        selectedCells[i].classList.add('found');
        selectedCells[i].style.backgroundColor = '';
      }
      selectedWord = '';
      checkForWin();
    }
  }

  function checkForWin() {
    if (foundWords.length === words.length) {
      alert('You win!');
    }
  }

  function restartGame() {
    selectedWord = '';
    gameBoard = [];
    foundWords = [];
    createGameBoard();
    placeWordsOnGameBoard();
    displayGameBoard();
    displayWordList();
  }

  createGameBoard();
  placeWordsOnGameBoard();
  displayGameBoard();
  displayWordList();
</script>
</body>
</html>