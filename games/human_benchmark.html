<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Human Benchmark</title>
    <style>
        .test-screen {
            display: none;
        }

        #color-area {
            background-color: red;
            height: 300px;
            width: 300px;
        }

        #click-color-area {
            background-color: green;
            height: 300px;
            width: 300px;
        }

        .hidden {
            display: none;
        }


        #number-area {
            font-size: 64px;
            height: 200px;
            width: 200px;
            border: 1px solid black;
            text-align: center;
        }

        .hidden {
            display: none;
        }

        #word-area {
            font-size: 64px;
            height: 200px;
            width: 400px;
            border: 1px solid black;
            text-align: center;
            margin-bottom: 20px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<div id="reaction-time-test" class="test-screen">
    <h2>Reaction Time Test</h2>
    <div id="wait-area">
        <p>Wait until the color turns green</p>
        <div id="color-area"></div>
    </div>
    <div id="click-area" class="hidden">
        <p>NOW! CLICK!!!</p>
        <div id="click-color-area"></div>
    </div>
    <div id="results-area" class="hidden">
        <p>Your Reaction Time:</p>
        <span id="reaction-time"></span>
    </div>
    <button id="start-reaction-time-test">Start Test</button>
</div>


<div id="number-memory-test" class="test-screen"><h2>Number Memory Test</h2>
    <div id="number-area"></div>
    <div id="answer-area"><input id="answer-input" class="hidden" type="number">
        <button id="submit-answer" class="hidden">Submit</button>
    </div>
    <div id="results-area" class="hidden"><p>Your Level:</p><span id="number-level"></span></div>
    <button id="start-number-memory-test">Start Test</button>
</div>


<div id="verbal-memory-test" class="test-screen"><h2>Verbal Memory Test</h2>
    <div id="word-area"></div>
    <div id="buttons-area">
        <button id="seen-button">SEEN</button>
        <button id="new-button">NEW</button>
    </div>
    <div id="results-area" class="hidden"><p>Your Score:</p><span id="verbal-score"></span></div>
    <button id="start-verbal-memory-test">Start Test</button>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"
        integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    $(function () {
        var startTime;
        var endTime;

        $("#start-reaction-time-test").click(function () {
            $(this).hide();
            $("#wait-area").show();
            setTimeout(function () {
                $("#wait-area").hide();
                $("#click-area").show();
                startTime = new Date();
            }, Math.floor(Math.random() * 7000) + 3000);
        });

        $("#click-color-area").click(function () {
            endTime = new Date();
            $("#click-area").hide();
            $("#results-area").show();
            $("#reaction-time").text(`${endTime - startTime} ms`);
        });
    });

    $(function () {
        var numbers = [];
        var numberIndex = 0;
        var answer = "";
        var level = 1;
        var timer;
        $("#start-number-memory-test").click(function () {
            $(this).hide();
            generateNumber();
        });
        $("#submit-answer").click(function () {
            clearTimeout(timer);
            if ($("#answer-input").val() === answer) {
                $("#answer-input").val("");
                numberIndex = 0;
                level++;
                numbers = [];
                generateNumber();
            } else {
                lose();
            }
        });


        function lose() {
            alert("You lost! You reached level " + (level - 1));
            $("#submit-answer").hide();
            $("#answer-input").hide();
            $("#results-area").show();
            $("#number-level").text(level - 1);
            $("#start-number-memory-test").show();
            numbers = [];
            numberIndex = 0;
            level = 1;
        }

        function generateNumber() {
            $("#answer-input").hide();
            $("#submit-answer").hide();
            for (var i = 0; i < level; i++) {
                var number = Math.floor(Math.random() * 10);
                numbers.push(number);
            }
            answer = numbers.join('');
            $("#number-area").text(answer);
            timer = setTimeout(() => {
                $("#number-area").text("");
                $("#answer-input").show();
                $("#submit-answer").show();
            }, 5000 + (level * 500));
        }
    });


    $(function () {
        let wordRotation = [];
        var wordList = ["apple", "banana", "car", "dog", "elephant", "fish", "guitar", "house", "igloo", "jacket", "kangaroo", "lemon", "moon", "nose", "orange", "pizza", "queen", "rainbow", "sun", "tree", "umbrella", "violin", "water", "xylophone", "yellow", "zebra", "book", "cat", "desk", "egg", "fire", "goose", "hat", "island", "jungle", "kite", "lion", "mango", "nest", "ocean", "pencil", "quilt", "river", "snake", "table", "unicorn", "volcano", "window", "yacht", "zeppelin", "atom", "butterfly", "cloud", "diamond", "feather", "giraffe", "helicopter", "internet", "jellyfish", "kayak", "leopard", "mushroom", "nutmeg", "ostrich", "peacock", "quicksilver", "rhinoceros", "sandwich", "telephone", "vampire", "waterfall", "yogurt", "zealous"];
        let shownWords = [];
        var wordIndex = 0;
        var score = 0;
        let lastWordIndex = 0;
        let currentWord;
        $("#start-verbal-memory-test").click(function () {
            for (let i = 0; i < 5; i++) {
                addWordToRotation();
            }
            $(this).hide();
            $("#word-area").show();
            $("#buttons-area").show();
            displayWord();
        });

        function displayWord() {
            let randomIndex = Math.floor(Math.random() * wordRotation.length);
            while (randomIndex === lastWordIndex) {
                randomIndex = Math.floor(Math.random() * wordRotation.length);
            }
            currentWord = wordRotation[randomIndex];
            lastWordIndex = randomIndex;
            $("#word-area").text(currentWord);
        }

        function addWordToRotation() {
            const randomIndex = Math.floor(Math.random() * wordList.length);
            wordList.splice(randomIndex, 1);
            wordRotation.push(wordList[randomIndex]);
        }

        function correct() {
            score++;
            wordIndex++;

            if (score % 5 === 0) {
                addWordToRotation();
            }

            displayWord();
        }

        function wrong() {
            alert('FAIL! YOU HAVE FAILED! SHAME ON YOU!');
            $("#buttons-area").hide();
            $("#results-area").show();
            $("#verbal-score").text(score);
        }


        $("#new-button").click(function () {
            if (shownWords.includes(currentWord)) {
                wrong();
                return;
            }
            shownWords.push(currentWord);
            correct();
        });

        $("#seen-button").click(function () {
            if (!shownWords.includes(currentWord)) {
                wrong();
                return;
            }

            correct();
        });
    });
</script>
</body>
</html>