<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Human Benchmark</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <style>
        .test-screen {
            display: none;
        }

        .tabs {
            margin-top: 50px;
        }
        .hidden {
            display: none;
        }

        #number-area, #word-area {
            font-size: 50px;
            font-weight: bolder;
        }

        #number-area, #color-area, #click-color-area, #word-area {
            min-height: 200px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Human Benchmark Tests</h1>
    <ul class="tabs">
        <li class="tab col s3"><a href="#reaction-time-test">Reaction Time</a></li>
        <li class="tab col s3"><a href="#number-memory-test">Number Memory</a></li>
        <li class="tab col s3"><a href="#verbal-memory-test">Verbal Memory</a></li>
    </ul>
    <div id="reaction-time-test" class="test-screen active" style="display: block;">
        <h2>Reaction Time Test</h2>
        <div id="wait-area">
            <p>Wait until the color turns green</p>
            <div id="color-area" class="card-panel red"></div>
        </div>
        <div id="click-area" class="hidden">
            <p>NOW! CLICK!!!</p>
            <div id="click-color-area" class="card-panel green"></div>
        </div>
        <div id="results-area" class="hidden">
            <p>Your Reaction Time:</p>
            <span id="reaction-time"></span>
        </div>
        <button id="start-reaction-time-test" class="waves-effect waves-light btn">Start Test</button>
    </div>
    <div id="number-memory-test" class="test-screen">
        <h2>Number Memory Test</h2>
        <div id="number-area" class="card-panel grey lighten-2 center-align"></div>
        <div id="answer-area">
            <input id="answer-input" class="hidden" type="number">
            <button id="submit-answer" class="hidden waves-effect waves-light btn">Submit</button>
        </div>
        <div id="results-area" class="hidden">
            <p>Your Level:</p>
            <span id="number-level"></span>
        </div>
        <button id="start-number-memory-test" class="waves-effect waves-light btn">Start Test</button>
    </div>
    <div id="verbal-memory-test" class="test-screen">
        <h2>Verbal Memory Test</h2>
        <div id="word-area" class="card-panel grey lighten-2 center-align"></div>
        <div id="buttons-area" class="hidden">
            <button id="seen-button" class="waves-effect waves-light btn">SEEN</button>
            <button id="new-button" class="waves-effect waves-light btn">NEW</button>
        </div>
        <div id="results-area" class="hidden">
            <p>Your Score:</p>
            <span id="verbal-score"></span>
        </div>
        <button id="start-verbal-memory-test" class="waves-effect waves-light btn">Start Test</button>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
    $(document).ready(function () {
        $('.tabs').tabs();
    });
    $(function () {
        var startTime;
        var endTime;

        $("#start-reaction-time-test").click(function () {
            $(this).hide();
            $("#wait-area").show();
            $("#results-area").hide();
            setTimeout(function () {
                $("#wait-area").hide();
                $("#click-area").show();
                startTime = new Date();
            }, Math.floor(Math.random() * 7000) + 3000);
        });

        $("#click-color-area").click(function () {
            endTime = new Date();
            $("#click-area").hide();
            $("#results-area").show();
            $("#reaction-time").text(`${endTime - startTime}ms`);
            $("#start-reaction-time-test").show();
        });
    });

    $(function () {
        var numbers = [];
        var numberIndex = 0;
        var answer = "";
        var level = 1;
        var timer;

        $("#start-number-memory-test").click(function () {
            $(this).hide();
            generateNumber();
        });

        $("#submit-answer").click(function () {
            clearTimeout(timer);
            if ($("#answer-input").val() === answer) {
                $("#answer-input").val("");
                numberIndex = 0;
                level++;
                numbers = [];
                generateNumber();
            } else {
                lose();
            }
        });

        function lose() {
            $("#answer-input").prop("disabled", true);
            $("#submit-answer").prop("disabled", true);
            $("#results-area").show();
            $("#number-level").text(level - 1);
            $("#start-number-memory-test").show();
            numbers = [];
            numberIndex = 0;
            level = 1;
        }

        function generateNumber() {
            $("#answer-input").hide();
            $("#submit-answer").hide();
            $("#number-area").text("Memorize the numbers...");
            setTimeout(() => {
                $("#number-area").text("");
                for (var i = 0; i < level; i++) {
                    var number = Math.floor(Math.random() * 10);
                    numbers.push(number);
                    $("#number-area").append(`<span class="number-box">${number}</span>`);
                }
                answer = numbers.join('');
                timer = setTimeout(() => {
                    $("#number-area").empty();
                    $("#answer-input").show();
                    $("#submit-answer").show();
                }, 3000 + (level * 500));
            }, 1000);
        }
    });

    $(function () {
        let wordRotation = [];
        var wordList = ["apple", "banana", "car", "dog", "elephant", "fish", "guitar", "house", "ice cream", "jacket", "kangaroo", "lemon", "moon", "nose", "orange", "pizza", "queen", "rainbow", "sun", "tree", "umbrella", "violin", "water", "xylophone", "yellow", "zebra", "book", "cat", "desk", "egg", "fire", "goose", "hat", "island", "jungle", "kite", "lion", "mango", "nest", "ocean", "pencil", "quilt", "river", "snake", "table", "unicorn", "volcano", "window", "yacht", "zeppelin", "atom", "butterfly", "cloud", "diamond", "feather", "giraffe", "helicopter", "internet", "jellyfish", "kayak", "leopard", "mushroom", "nutmeg", "ostrich", "peacock", "quicksilver", "rhinoceros", "sandwich", "telephone", "vampire", "waterfall", "yogurt", "zealous"];
        let shownWords = [];
        var wordIndex = 0;
        var score = 0;
        let lastWordIndex = 0;
        let currentWord;

        $("#start-verbal-memory-test").click(function () {
            for (let i = 0; i < 5; i++) {
                addWordToRotation();
            }
            $(this).hide();
            $("#word-area").show();
            $("#buttons-area").show();
            displayWord();
        });

        function displayWord() {
            let randomIndex = Math.floor(Math.random() * wordRotation.length);
            while (randomIndex === lastWordIndex) {
                randomIndex = Math.floor(Math.random() * wordRotation.length);
            }
            currentWord = wordRotation[randomIndex];
            lastWordIndex = randomIndex;
            $("#word-area").text(currentWord);
        }

        function addWordToRotation() {
            const randomIndex = Math.floor(Math.random() * wordList.length);
            wordList.splice(randomIndex, 1);
            wordRotation.push(wordList[randomIndex]);
        }

        function correct() {
            score++;
            wordIndex++;
            if (score % 5 === 0) {
                addWordToRotation();
            }
            displayWord();
            $("#verbal-score").text(score);
        }

        function wrong() {
            $("#buttons-area").hide();
            $("#results-area").show();
            $("#verbal-score").text(score);
        }

        $("#new-button").click(function () {
            if (shownWords.includes(currentWord)) {
                wrong();
                return;
            }
            shownWords.push(currentWord);
            correct();
        });

        $("#seen-button").click(function () {
            if (!shownWords.includes(currentWord)) {
                wrong();
                return;
            }
            correct();
        });
    });
</script>
</body>
</html>