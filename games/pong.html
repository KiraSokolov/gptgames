<!DOCTYPE html>
<html>
<head>
<style>#g{display:flex;justify-content:center;align-items:center;h:100vh}canvas{b:1px solid #000}</style>

</head>
<body>
<div id=g><canvas id=c width=500 height=500></canvas></div>
<script>
let c=document.getElementById("c"),x=c.getContext("2d"),p=[{x:10,y:250,h:100,c:"#F00"},{x:480,y:250,h:100,c:"#00F"}],b={x:c.width/2,y:c.height-30,r:10,dx:4,dy:-4,c:"#0F0"},S=0,T=0;

document.addEventListener("mousemove", function(event) {
  p[1].y = event.clientY - p[1].h / 2;
});

setInterval(()=>{
  x.clearRect(0,0,c.width,c.height);
  x.fillStyle=b.c;
  x.fillRect(b.x-b.r,b.y-b.r,b.r*2,b.r*2);
  p.forEach(p=>{x.fillStyle=p.c;x.fillRect(p.x,p.y,10,p.h)});
  b.x+=b.dx;
  b.y+=b.dy;
  p[0].y+p[0].h/2<b.y?p[0].y+=2:p[0].y-=2;
  b.x<0?(b.dx=-b.dx,++S):b.x>c.width&&(b.dx=-b.dx,++T);
  b.y<0||b.y>c.height?b.dy=-b.dy:b.x-b.r<p[0].x+10&&b.y>p[0].y&&b.y<p[0].y+p[0].h&&(b.dx=-b.dx);
  b.x+b.r>p[1].x&&b.y>p[1].y&&b.y<p[1].y+p[1].h&&(b.dx=-b.dx);
  x.fillText(S+" : "+T,c.width/2-20,20)
},10);
</script>

</body>
</html>