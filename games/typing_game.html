<!DOCTYPE html>
<html lang="en">
<head>
  <title>Typing Game</title>
  <meta name="description" content="Test your typing speed with this fun and engaging typing game. Type the given text as quickly and accurately as possible and see your words per second.">
  <meta name="keywords" content="typing game, typing speed, words per second, accuracy, test, practice, improve typing skills">
  <style>
      body {
          background-color: #f0f0f0;
          font-family: Arial, sans-serif;
      }

      #game-container {
          margin: 50px auto;
          padding: 20px;
          width: 600px;
          background-color: #fff;
          border-radius: 10px;
          box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      }

      #word-display {
          font-size: 48px;
          margin: 0;
          text-align: center;
      }

      #user-input {
          font-size: 24px;
          margin: 20px auto;
          display: block;
          width: 100%;
          padding: 10px;
          border: none;
          border-radius: 5px;
          box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
      }

      #score-display, #timer-display {
          margin: 10px 0;
          text-align: center;
      }
  </style>
</head>
<body>
<div id="game-container">
  <h1 id="word-display"></h1>
  <input type="text" id="user-input" autofocus>
  <h2 id="score-display">Score: 0</h2>
  <h2 id="timer-display">Time: 60s</h2>
</div>
<script type="text/javascript">
  let words = [
    "apple",
    "banana",
    "cherry",
    "orange",
    "pear",
    "peach",
    "plum",
    "grape",
    "watermelon",
    "kiwi",
  ];

  let currentWordIndex = 0;
  let score = 0;
  let timeLeft = 60;

  const wordDisplay = document.getElementById("word-display");
  const userInput = document.getElementById("user-input");
  const scoreDisplay = document.getElementById("score-display");
  const timerDisplay = document.getElementById("timer-display");

  function generateRandomWord() {
    return words[Math.floor(Math.random() * words.length)];
  }

  function updateWordDisplay() {
    const word = generateRandomWord();
    wordDisplay.innerText = word;
    userInput.value = "";
    currentWordIndex = 0;
  }

  function handleUserInput(event) {
    const currentWord = wordDisplay.innerText;
    const currentLetter = currentWord[currentWordIndex];
    const userInputLetter = event.key;

    if (currentLetter === userInputLetter) {
      currentWordIndex++;

      if (currentWordIndex === currentWord.length) {
        score++;
        scoreDisplay.innerText = `Score: ${score}`;
        updateWordDisplay();
      }
    }
  }

  function startTimer() {
    const intervalId = setInterval(() => {
      timeLeft--;
      timerDisplay.innerText = `Time: ${timeLeft}s`;

      if (timeLeft === 0) {
        clearInterval(intervalId);
        userInput.removeEventListener("keyup", handleUserInput);
        alert(`Game over! Your score is ${score}.`);
      }
    }, 1000);
  }

  function initializeGame() {
    updateWordDisplay();
    startTimer();
    userInput.addEventListener("keyup", handleUserInput);
  }

  const xhr = new XMLHttpRequest();
  xhr.open("GET", 'https://random-word-api.herokuapp.com/word?number=50');
  xhr.send();
  xhr.onload = function (e) {
    words = JSON.parse(xhr.responseText);
    initializeGame();
  }
</script>
</body>
</html>
