<!DOCTYPE html>
<html>
<head>
  <title>Emoji Slot Machine Game</title>
  <meta charset="UTF-8">
  <style>
      body {
          font-family: Arial, sans-serif;
          text-align: center;
      }

      h1 {
          margin-top: 50px;
      }

      #container {
          margin: 50px auto;
          width: 500px;
      }

      .slot-row {
          display: flex;
          justify-content: center;
          margin-bottom: 20px;
      }

      .slot {
          width: 100px;
          height: 100px;
          background-color: #fff;
          border: 2px solid #333;
          margin: 0 10px;
          border-radius: 10px;
          display: flex;
          justify-content: center;
          align-items: center;
          font-size: 50px;
      }

      #controls {
          margin-top: 20px;
      }

      #spin-btn {
          background-color: #f44336;
          color: #fff;
          padding: 10px 20px;
          font-size: 20px;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          margin-right: 20px;
      }

      #score, #wins {
          font-weight: bold;
      }

  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css"
        integrity="sha512-ELV+xyi8IhEApPS/pSj66+Jiw+sOT1Mqkzlh8ExXihe4zfqbWkxPRi8wptXIO9g73FSlhmquFlUOuMSoXz5IRw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"/>
</head>
<body>
<h1>Emoji Slot Machine Game</h1>
<div id="container">
  <div class="slot-row">
    <div class="slot" id="slot1"></div>
    <div class="slot" id="slot2"></div>
    <div class="slot" id="slot3"></div>
  </div>
  <div class="slot-row">
    <div class="slot" id="slot4"></div>
    <div class="slot" id="slot5"></div>
    <div class="slot" id="slot6"></div>
  </div>
  <div class="slot-row">
    <div class="slot" id="slot7"></div>
    <div class="slot" id="slot8"></div>
    <div class="slot" id="slot9"></div>
  </div>
  <div id="controls">
    <button id="spin-btn">Spin</button>
    <p>Score: <span id="score">0</span></p>
    <p>Wins: <span id="wins">0</span></p>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"
        integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"
        integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="text/javascript">
  $(document).ready(function () {
    var emojis = ['ðŸ˜€', 'ðŸ˜„', 'ðŸ˜Ž', 'ðŸ¤”', 'ðŸ¤‘', 'ðŸ¥³', 'ðŸ¤¯', 'ðŸ¤ ', 'ðŸ¥º'];
    var score = 100;
    var wins = 0;

    // Set initial score and wins display
    $('#score').text(score);
    $('#wins').text(wins);

    // Spin the slots
    $('#spin-btn').on('click', function () {
      if (score >= 10) {
        // Deduct 10 from score for spinning
        score -= 10;
        $('#score').text(score);

        // Generate random emojis for each slot
        var slotResults = [];
        for (var i = 1; i <= 9; i++) {
          var randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
          slotResults.push(randomEmoji);
        }

        // Animate the slots spinning
        var slotAnimations = [];
        $('.slot').each(function (index) {
          console.log('animating', index);
          var currentSlot = $(this);
          var currentResult = slotResults[index];
          var totalOffset = -800 * (Math.floor(Math.random() * 3) + 2);
          var slotAnimation = currentSlot.animate({
            'background-position-y': totalOffset + 'px'
          }, {
            duration: 3000,
            easing: 'easeOutCubic',
            step: function (now, tween) {
              var currentOffset = Math.floor(now);
              var emojiIndex = (currentOffset + 800) / 100;
              if (emojiIndex >= emojis.length) {
                emojiIndex -= emojis.length;
              }
              currentSlot.text(emojis[emojiIndex]);
            },
            complete: function () {
              currentSlot.text(currentResult);
            }
          });
          slotAnimations.push(slotAnimation);
        });

        // Check if there is a win
        setTimeout(function () {
          var win = false;
          if (slotResults[0] == slotResults[1] && slotResults[0] == slotResults[2]) {
            win = true;
          }
          if (slotResults[3] == slotResults[4] && slotResults[3] == slotResults[5]) {
            win = true;
          }
          if (slotResults[6] == slotResults[7] && slotResults[6] == slotResults[8]) {
            win = true;
          }
          if (slotResults[0] == slotResults[4] && slotResults[0] == slotResults[8]) {
            win = true;
          }
          if (slotResults[2] == slotResults[4] && slotResults[2] == slotResults[6]) {
            win = true;
          }
          if (win) {
            // Add 50 to score and increment wins
            score += 50;
            wins++;
            $('#score').text(score);
            $('#wins').text(wins);
            alert('You won!');
          }
        }, 3000);
      } else {
        alert('You don\'t have enough score to spin!');
      }
    });
  });
</script>
</body>
</html>
